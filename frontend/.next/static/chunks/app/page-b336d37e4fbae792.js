(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5268:function(e,t,r){Promise.resolve().then(r.bind(r,3062))},3062:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(7437),a=r(2265);let l=r(8472).Z.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}}),n={create:async e=>(await l.post("/songs",e)).data,getAll:async()=>(await l.get("/songs")).data,update:async(e,t)=>(await l.put("/songs/".concat(e),t)).data,delete:async e=>{await l.delete("/songs/".concat(e))},search:async(e,t)=>{let r=new URLSearchParams({q:e});return t&&t.length>0&&r.append("languages",t.join(",")),(await l.get("/search?".concat(r.toString()))).data}},o={getStatus:async()=>(await l.get("/propresenter/status")).data,sendToQueue:async(e,t,r)=>(await l.post("/propresenter/queue",{song_id:e,song_title:t,playlist_name:r})).data},i=[{code:"english",label:"English"},{code:"malayalam",label:"Malayalam"},{code:"hindi",label:"Hindi"}];function d(e){let{onSearch:t}=e,[r,l]=(0,a.useState)(""),[n,o]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=setTimeout(()=>{t(r,n)},200);return()=>clearTimeout(e)},[r,n,t]);let d=e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"text",placeholder:"Search by title, artist, or lyrics...",value:r,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 bg-[#16171b] text-gray-100 rounded-lg border border-[#2a2c31] focus:ring-2 focus:ring-[#3a3c42] focus:border-[#3a3c42] placeholder-gray-500",autoFocus:!0})}),(0,s.jsx)("div",{className:"flex gap-2",children:i.map(e=>{let t=n.includes(e.code);return(0,s.jsx)("button",{onClick:()=>d(e.code),className:"flex-1 py-1.5 rounded-md text-sm font-medium transition-colors border ".concat(t?"bg-[#2c2d32] border-[#3a3c42] text-gray-100":"bg-[#141518] border-[#24262c] text-gray-300 hover:border-[#3a3c42]"),children:e.label},e.code)})}),r&&(0,s.jsx)("button",{onClick:()=>{l(""),o([])},className:"text-sm text-gray-400 hover:text-gray-200",children:"Clear search"})]})}function c(e){let{songs:t,onSelectSong:r,selectedSongId:a,loading:l,onEdit:n,onSendToLive:o}=e;return l?(0,s.jsx)("div",{className:"bg-[#1a1b1f] rounded-xl border border-[#2a2c31] p-6 text-center",children:(0,s.jsx)("p",{className:"text-gray-400",children:"Loading songs..."})}):0===t.length?(0,s.jsx)("div",{className:"bg-[#1a1b1f] rounded-xl border border-[#2a2c31] p-6 text-center",children:(0,s.jsx)("p",{className:"text-gray-400",children:"No songs found"})}):(0,s.jsx)("div",{className:"bg-[#1a1b1f] rounded-xl border border-[#2a2c31] overflow-hidden",children:(0,s.jsx)("div",{className:"divide-y divide-[#2a2c31] max-h-[540px] overflow-y-auto",children:t.map(e=>(0,s.jsxs)("div",{className:"w-full text-left p-4 flex items-start gap-3 hover:bg-[#1f2024] transition-colors ".concat(a===e.id?"bg-[#2a2c31]":""),children:[(0,s.jsxs)("div",{className:"flex-1",onClick:()=>r(e),role:"button",tabIndex:0,onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&r(e)},children:[(0,s.jsx)("h3",{className:"font-semibold text-white mb-1",children:e.title}),e.artist&&(0,s.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:e.artist}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[(0,s.jsx)("span",{className:"bg-gray-800 text-gray-200 px-2 py-1 rounded",children:e.language||"Unknown"}),(0,s.jsxs)("span",{className:"text-gray-500 truncate",children:[e.lyrics.substring(0,80),"..."]})]})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[n&&(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e)},className:"p-1.5 rounded-md border border-[#2a2c31] text-gray-300 hover:text-gray-100 hover:border-[#3a3c42] transition-colors text-sm","aria-label":"Edit ".concat(e.title),children:"✏"}),o&&(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e)},className:"p-1.5 rounded-md border border-green-600/50 text-green-400 hover:text-green-300 hover:border-green-500 transition-colors text-sm","aria-label":"Send ".concat(e.title," to live"),title:"Send to Live",children:"▶"})]})]},e.id))})})}let x=["english","malayalam","hindi","tamil","telugu","kannada"];function u(e){let{song:t,onSubmit:r,onCancel:l}=e,[o,i]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[u,g]=(0,a.useState)(""),[m,b]=(0,a.useState)("english"),[h,y]=(0,a.useState)(""),[f,p]=(0,a.useState)(!1),[v,j]=(0,a.useState)("");(0,a.useEffect)(()=>{t&&(i(t.title),c(t.artist||""),g(t.lyrics),b(t.language),y(t.content))},[t]);let w=async e=>{if(e.preventDefault(),j(""),!o.trim()||!u.trim()||!m){j("Title, lyrics, and language are required");return}try{if(p(!0),t){let e={title:o.trim(),artist:d.trim()||void 0,lyrics:u.trim(),language:m,content:h.trim()||u.trim()};await n.update(t.id,e)}else{let e={title:o.trim(),artist:d.trim()||void 0,lyrics:u.trim(),language:m,content:h.trim()||u.trim()};await n.create(e)}r()}catch(e){var s,a;j((null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.error)||"Failed to save song")}finally{p(!1)}};return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:t?"Edit Song":"Create New Song"}),(0,s.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),(0,s.jsx)("input",{id:"title",type:"text",value:o,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter song title",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"artist",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Artist (Optional)"}),(0,s.jsx)("input",{id:"artist",type:"text",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter artist name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language *"}),(0,s.jsx)("select",{id:"language",value:m,onChange:e=>b(e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:x.map(e=>(0,s.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"lyrics",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Lyrics *"}),(0,s.jsx)("textarea",{id:"lyrics",value:u,onChange:e=>g(e.target.value),rows:12,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white font-mono",placeholder:"Enter song lyrics...",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Content (Optional, defaults to lyrics)"}),(0,s.jsx)("textarea",{id:"content",value:h,onChange:e=>y(e.target.value),rows:8,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white font-mono",placeholder:"Enter full content (if different from lyrics)"})]}),v&&(0,s.jsx)("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:v})}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)("button",{type:"submit",disabled:f,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:f?"Saving...":t?"Update Song":"Create Song"}),(0,s.jsx)("button",{type:"button",onClick:l,disabled:f,className:"flex-1 bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-700 text-gray-900 dark:text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})]})}function g(e){let{song:t,onClose:r,onEdit:l,onDelete:n}=e;return(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[r]),(0,s.jsxs)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:t.title}),t.artist&&(0,s.jsx)("p",{className:"text-gray-300 text-xl mb-2",children:t.artist}),(0,s.jsx)("span",{className:"inline-block bg-blue-600 text-white text-sm font-semibold px-4 py-1 rounded-full",children:t.language})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>l(t),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Edit"}),(0,s.jsx)("button",{onClick:async()=>{await n(t.id)&&r()},className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Delete"}),(0,s.jsx)("button",{onClick:r,className:"bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Close (ESC)"})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-8",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-2xl leading-relaxed text-white text-center",children:t.lyrics})}),t.content&&t.content!==t.lyrics&&(0,s.jsxs)("div",{className:"mt-12 pt-8 border-t border-gray-700",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-400 mb-4 uppercase tracking-wide",children:"Full Content"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-xl leading-relaxed text-gray-300",children:t.content})]})]})}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-700 bg-gray-900 bg-opacity-50",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto flex justify-between items-center text-sm text-gray-400",children:[(0,s.jsxs)("div",{children:["Created: ",new Date(t.created_at).toLocaleDateString()]}),(0,s.jsxs)("div",{children:["Last Updated: ",new Date(t.updated_at).toLocaleDateString()]})]})})]})}function m(){let[e,t]=(0,a.useState)([]),[r,l]=(0,a.useState)(null),[i,x]=(0,a.useState)(null),[m,b]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!1),[f,p]=(0,a.useState)(null),[v,j]=(0,a.useState)(null),[w,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(!1),[C,E]=(0,a.useState)(!0),[L,F]=(0,a.useState)(!1),[M,_]=(0,a.useState)([]),[z,A]=(0,a.useState)(1),[D,P]=(0,a.useState)(null),[T,O]=(0,a.useState)(!1),[R,q]=(0,a.useState)(!0),I=(0,a.useRef)(null),[B,H]=(0,a.useState)(.6),[U,Q]=(0,a.useState)(!1),W=(0,a.useRef)(null),Z=(0,a.useRef)(.6),J=(0,a.useRef)(null);(0,a.useEffect)(()=>{X(),K()},[]);let K=async()=>{try{let e=await o.getStatus();P(e)}catch(e){P({enabled:!1,connected:!1,message:"Failed to check status"})}};(0,a.useEffect)(()=>{let e=localStorage.getItem("control-splitter-width");if(e){let t=Number(e);!Number.isNaN(t)&&t>.3&&t<.8&&(H(t),Z.current=t)}},[]),(0,a.useEffect)(()=>{let e=e=>{if(!U||!W.current)return;let t=W.current.getBoundingClientRect(),r=(e.clientX-t.left)/t.width;Z.current=Math.min(.75,Math.max(.35,r)),null===J.current&&(J.current=requestAnimationFrame(()=>{H(Z.current),J.current=null}))},t=()=>{U&&(Q(!1),document.body.style.cursor="",document.body.style.userSelect="",localStorage.setItem("control-splitter-width",String(Z.current)),null!==J.current&&(cancelAnimationFrame(J.current),J.current=null),H(Z.current))};return window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}},[U,B]),(0,a.useEffect)(()=>{let e=new BroadcastChannel("lyrics-display");return I.current=e,()=>{e.close(),I.current=null}},[]),(0,a.useEffect)(()=>{I.current&&r&&I.current.postMessage({type:"zoom",zoomLevel:z})},[z,r]);let X=async()=>{try{E(!0);let e=await n.getAll();t(e)}catch(e){console.error("Error loading songs:",e)}finally{E(!1)}},G=(0,a.useCallback)(async(e,t)=>{let r=e.trim(),s=t.length>0;if(_(t),!r&&!s){N(null),S(!1);return}try{S(!0);let e=await n.search(r||"*",t);N(e)}catch(e){console.error("Error searching:",e)}finally{S(!1)}},[]),V=async e=>{var t;x(e),l(e),y(!1),Z.current=.6,H(.6),localStorage.setItem("control-splitter-width",String(.6));let r={type:"song",song:{id:e.id,title:e.title,artist:e.artist,lyrics:e.lyrics,content:e.content,language:e.language}};if(localStorage.setItem("lyrics-display-current",JSON.stringify(r.song)),null===(t=I.current)||void 0===t||t.postMessage(r),I.current&&I.current.postMessage({type:"zoom",zoomLevel:z}),R&&(null==D?void 0:D.connected)){O(!0);try{await o.sendToQueue(e.id,e.title)}catch(e){console.error("Failed to sync with ProPresenter:",e)}finally{O(!1)}}},Y=e=>{j(e),b(!0)},$=async e=>{if(!confirm("Are you sure you want to delete this song?"))return!1;try{if(await n.delete(e),await X(),(null==r?void 0:r.id)===e){var t;l(null),localStorage.removeItem("lyrics-display-current"),null===(t=I.current)||void 0===t||t.postMessage({type:"clear"})}return!0}catch(e){return console.error("Error deleting song:",e),alert("Failed to delete song"),!1}},ee=async()=>{b(!1);let e=null==v?void 0:v.id;if(j(null),await X(),e&&(null==i?void 0:i.id)===e){let t=(await n.getAll()).find(t=>t.id===e);t&&V(t)}},et=()=>{b(!1),j(null)},er=w?((e,t)=>{if(!t.length)return e;let r=t.map(e=>e.trim().toLowerCase()).filter(Boolean);if(!r.length)return e;let s={},a=[];e.forEach(e=>{let t=(e.language||"").trim().toLowerCase();r.includes(t)?(s[t]||(s[t]=[]),s[t].push(e)):a.push(e)});let l=[];return r.forEach(e=>{s[e]&&l.push(...s[e])}),l.push(...a),l})(w.songs,M):e;return(0,s.jsxs)(s.Fragment,{children:[r&&L&&(0,s.jsx)(g,{song:r,onClose:()=>F(!1),onEdit:Y,onDelete:$}),m&&(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-black/70 backdrop-blur-sm flex items-start justify-center p-6 overflow-y-auto",children:(0,s.jsxs)("div",{className:"bg-gray-900 rounded-xl border border-gray-800 shadow-2xl w-full max-w-3xl p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:v?"Edit Song":"Add New Song"}),(0,s.jsx)("button",{onClick:et,className:"text-gray-400 hover:text-white text-sm",children:"Close"})]}),(0,s.jsx)(u,{song:v,onSubmit:ee,onCancel:et})]})}),h&&f&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm flex items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"bg-[#1a1b1f] rounded-xl border border-[#2a2c31] shadow-2xl w-full max-w-5xl flex flex-col aspect-video overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-[#2a2c31] flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-white mb-1",children:f.title}),f.artist&&(0,s.jsx)("p",{className:"text-gray-300 text-sm mb-1",children:f.artist}),(0,s.jsx)("span",{className:"inline-block bg-blue-600 text-white text-xs font-semibold px-3 py-0.5 rounded-full",children:f.language})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{j(f),y(!1),b(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-1.5 px-4 rounded-md transition-colors text-sm",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>V(f),className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-1.5 px-4 rounded-md transition-colors text-sm",children:"Send to Live"}),(0,s.jsx)("button",{onClick:()=>{y(!1),p(null)},className:"bg-gray-700 hover:bg-gray-600 text-white font-semibold py-1.5 px-4 rounded-md transition-colors text-sm",children:"Close"})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto bg-black p-4 sm:p-6",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-base sm:text-lg leading-relaxed text-white text-center",children:f.lyrics})})})]})}),(0,s.jsx)("div",{className:"min-h-screen bg-[#111214] text-gray-100",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6 space-y-5",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(d,{onSearch:G})}),(0,s.jsx)("button",{onClick:()=>{j(null),b(!0)},"aria-label":"Add new song",className:"shrink-0 h-10 w-10 flex items-center justify-center rounded-md bg-[#1a1b1f] border border-[#2a2c31] text-gray-100 hover:border-[#3a3c42] transition-colors text-xl leading-none",children:"＋"})]}),k&&w&&(0,s.jsx)("div",{className:"bg-[#1a1b1f] rounded-xl border border-[#2a2c31] p-3",children:(0,s.jsxs)("p",{className:"text-sm text-gray-300",children:["Found ",w.total_found," results in ",w.search_time_ms,"ms"]})}),(0,s.jsxs)("div",{ref:W,className:"flex w-full gap-4",style:{minHeight:"60vh"},children:[(0,s.jsx)("div",{className:"space-y-3",style:{flexBasis:"".concat(100*B,"%"),minWidth:"35%"},children:(0,s.jsx)(c,{songs:er,onSelectSong:e=>{p(e),y(!0)},onEdit:Y,onSendToLive:V,selectedSongId:null==r?void 0:r.id,loading:C})}),(0,s.jsx)("div",{className:"w-2 sm:w-3 bg-[#2a2c31] hover:bg-[#3a3c42] rounded border border-[#2a2c31] cursor-col-resize select-none",style:{minHeight:"100%",cursor:"col-resize"},onMouseDown:()=>{Q(!0),document.body.style.cursor="col-resize",document.body.style.userSelect="none"}}),(0,s.jsxs)("div",{className:"space-y-4",style:{flexBasis:"".concat((1-B)*100,"%"),minWidth:"25%"},children:[(0,s.jsxs)("div",{className:"bg-[#1a1b1f] rounded-xl border border-[#2a2c31] p-4 space-y-3",children:[(0,s.jsx)("div",{className:"text-xs font-semibold text-gray-400 uppercase",children:"Live"}),(0,s.jsxs)("div",{className:"bg-[#141518] rounded-lg p-3 flex items-center gap-3 border border-[#2a2c31]",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 animate-pulse"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-gray-100 font-semibold",children:i?i.title:"No song live"}),(null==i?void 0:i.artist)&&(0,s.jsx)("div",{className:"text-sm text-gray-400",children:i.artist})]}),(0,s.jsx)("button",{onClick:()=>{window.open("/display","_blank","noopener,noreferrer")},className:"px-3 py-2 rounded-md border border-[#3a3c42] text-gray-200 hover:border-gray-100 transition-colors text-sm",children:"Launch Live"})]})]}),(0,s.jsxs)("div",{className:"bg-[#1a1b1f] rounded-xl border border-[#2a2c31] p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-xs font-semibold text-gray-400 uppercase",children:"ProPresenter"}),(0,s.jsx)("button",{onClick:()=>K(),className:"text-xs text-gray-500 hover:text-gray-300 transition-colors",title:"Refresh status",children:"↻"})]}),(0,s.jsxs)("div",{className:"bg-[#141518] rounded-lg p-3 flex items-center gap-3 border border-[#2a2c31]",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((null==D?void 0:D.connected)?"bg-green-500":(null==D?void 0:D.enabled)?"bg-yellow-500":"bg-gray-500")}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-gray-100 text-sm font-medium",children:(null==D?void 0:D.connected)?"Connected":(null==D?void 0:D.enabled)?"Disconnected":"Not Configured"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:T?"Syncing...":R?"Auto-sync enabled":"Auto-sync disabled"})]}),(0,s.jsx)("button",{onClick:()=>q(!R),className:"px-3 py-1.5 rounded-md text-xs font-medium transition-colors ".concat(R?"bg-green-600/20 text-green-400 border border-green-600/30 hover:bg-green-600/30":"bg-gray-700 text-gray-400 border border-gray-600 hover:bg-gray-600"),disabled:!(null==D?void 0:D.connected),title:R?"Click to disable auto-sync":"Click to enable auto-sync",children:R?"Sync On":"Sync Off"})]}),(null==D?void 0:D.connected)&&i&&(0,s.jsx)("div",{className:"text-xs text-gray-500 px-1",children:'Songs sent to "Live Queue" playlist in ProPresenter'})]}),(0,s.jsxs)("div",{className:"bg-[#1a1b1f] rounded-xl border border-[#2a2c31] p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"bg-[#141518] rounded-lg p-3 flex items-center gap-3 border border-[#2a2c31]",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded bg-[#1f2024] flex items-center justify-center text-gray-300",children:"\uD83C\uDFB5"}),(0,s.jsx)("div",{className:"flex-1 text-gray-300 text-sm font-semibold",children:"Preview"}),r&&(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5 bg-[#1a1b1f] px-2 py-1 rounded-md border border-[#2a2c31]",children:[(0,s.jsx)("button",{onClick:()=>{var e;let t=Math.max(.5,z-.1);A(t),null===(e=I.current)||void 0===e||e.postMessage({type:"zoom",zoomLevel:t})},className:"w-7 h-7 flex items-center justify-center rounded border border-[#3a3c42] bg-[#1a1b1f] text-white hover:border-gray-100 hover:bg-[#2a2c31] transition-colors text-base font-bold leading-none","aria-label":"Zoom out",children:"−"}),(0,s.jsxs)("span",{className:"text-xs text-gray-300 min-w-[2.5rem] text-center",children:[Math.round(100*z),"%"]}),(0,s.jsx)("button",{onClick:()=>{var e;let t=Math.min(3,z+.1);A(t),null===(e=I.current)||void 0===e||e.postMessage({type:"zoom",zoomLevel:t})},className:"w-7 h-7 flex items-center justify-center rounded border border-[#3a3c42] bg-[#1a1b1f] text-white hover:border-gray-100 hover:bg-[#2a2c31] transition-colors text-base font-bold leading-none","aria-label":"Zoom in",children:"+"})]})})]}),(0,s.jsx)("div",{className:"flex items-start justify-center overflow-hidden",style:{minHeight:"150%"},children:(0,s.jsx)("div",{className:"bg-black rounded-lg border border-[#2a2c31] overflow-hidden flex flex-col aspect-video w-full",style:{transform:"scale(1.8)",transformOrigin:"top center",maxWidth:"100%"},children:r?(0,s.jsx)("div",{id:"preview-scroll-container",className:"flex-1 overflow-y-auto p-4 sm:p-6 md:p-8 lg:p-12",onScroll:e=>{if(!I.current)return;let t=e.currentTarget,r=t.scrollTop,s=t.scrollHeight-t.clientHeight;if(s>0)try{I.current.postMessage({type:"scroll",scrollPercent:Math.max(0,Math.min(1,r/s))})}catch(e){console.error("Error sending scroll message:",e)}},children:(0,s.jsx)("div",{className:"w-full max-w-4xl md:max-w-5xl lg:max-w-6xl xl:max-w-7xl mx-auto",style:{transform:"scale(".concat(z,")"),transformOrigin:"top center"},children:(0,s.jsx)("div",{className:"flex items-center min-h-full py-8",children:(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-center w-full text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl 2xl:text-2xl leading-relaxed text-white",children:r.lyrics})})})}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("p",{className:"text-gray-500 text-center text-xs sm:text-sm",children:"Select a song to preview lyrics"})})})})]})]})]})]})})]})}}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=5268)}),_N_E=e.O()}]);